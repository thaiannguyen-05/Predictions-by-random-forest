model Post {
	id String @id @default(uuid()) @db.Uuid
	title String
	content String
	file String[]
    viewCount Int @default(0)
	
	createdAt DateTime @default(now())
	updatedAt DateTime @updatedAt
	deletedAt DateTime @updatedAt

	userId String @db.Uuid
	user User @relation(fields: [userId], references: [id], onDelete: Cascade)
	likeCount Int @default(0)
	comments Comment[]
	likes likePost[]
	@@unique([id, userId])
}

model likePost {
	id String @id @default(uuid()) @db.Uuid

	isLike Boolean @default(false)

	userId String @db.Uuid
	user User @relation(fields: [userId], references: [id], onDelete: Cascade)

	postId String @db.Uuid
	post Post @relation(fields: [postId], references: [id], onDelete: Cascade)

	createdAt DateTime @default(now())
	updatedAt DateTime @updatedAt
	deletedAt DateTime @updatedAt

	@@unique([id, userId])
}

model Comment {
	id String @id @default(uuid()) @db.Uuid
	content String

	createdAt DateTime @default(now())
	updatedAt DateTime @updatedAt

	userId String @db.Uuid
	user User @relation(fields: [userId], references: [id], onDelete: Cascade)

	postId String @db.Uuid
	post Post @relation(fields: [postId], references: [id], onDelete: Cascade)

	@@unique([id, userId])
}